<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title id="site-title"></title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" id="site-desc" />
  <link rel="stylesheet" href="style.css" />
  <script src="data.js"></script>
</head>
<body>
  <header>
    <div class="brand">
      <img id="avatar" alt="Your headshot">
      <div>
        <strong id="name"></strong><br>
        <span id="tagline"></span>
      </div>
    </div>
    <nav>
      <a href="index.html">About</a>
      <a href="projects.html">Projects</a>
      <a href="experience.html">Experience</a>
      <a href="extracurriculars.html">Extracurriculars</a>
      <a href="/#contact">Contact</a>
    </nav>
  </header>

  <main>
    <!-- Hero (About-focused) -->
    <section id="hero" class="hero">
      <div class="hero-aside">
        <div class="hero-image">
          <img id="hero-avatar" src="img/avatar.jpg" alt="Headshot of Kaitlin Calimbahin">
        </div>
        <!-- New: contact buttons under headshot -->
        <div id="hero-contacts" class="hero-contacts"></div>
      </div>
    
      <div class="hero-text">
        <span class="pill">Open to internships • Summer 2026</span>
        <h1 id="hero-title"></h1>
        <p id="about-text" class="about-in-hero"></p>
        <div class="row">
          <a class="btn" href="resume.pdf">Download Résumé</a>
          <a href="projects.html">See projects ↗</a>
        </div>
      </div>
    </section>    

    <!-- Highlights that link to full pages -->
    <section id="projects">
      <h2>Projects</h2>
      <div id="projects-highlights" class="preview-grid"></div>
      <p style="margin-top:10px"><a class="btn" href="projects.html">View all projects</a></p>
    </section>
    
    <section id="experience">
      <h2>Experience</h2>
      <div id="experience-highlights" class="preview-grid"></div>
      <p style="margin-top:10px"><a class="btn" href="experience.html">View all experience</a></p>
    </section>
    
    <section id="extracurriculars">
      <h2>Extracurriculars</h2>
      <div id="extracurriculars-highlights" class="preview-grid"></div>
      <p style="margin-top:10px"><a class="btn" href="extracurriculars.html">View all extracurriculars</a></p>
    </section>    
    
    <section id="contact">
      <h2>Contact</h2>
      <p id="contact-links"></p>
    </section>
    
  </main>

  <footer>
    © <span id="year"></span> <span id="name-footer"></span>
  </footer>

  <script>
    // helpers
    const setText = (id, text) => { const el = document.getElementById(id); if (el) el.textContent = text; };
    const setHTML = (id, html) => { const el = document.getElementById(id); if (el) el.innerHTML = html; };
    const setSrc = (id, src) => { const el = document.getElementById(id); if (el) el.src = src; };
  
    // meta
    document.title = siteData.title;
    const desc = document.getElementById("site-desc");
    if (desc) desc.setAttribute("content", siteData.description);
  
    // header/footer
    setSrc("avatar", siteData.avatar);
    setSrc("hero-avatar", siteData.avatar);
    setText("name", siteData.name);
    setText("tagline", siteData.tagline);
    setText("name-footer", siteData.name);
    setText("year", new Date().getFullYear());
  
    // hero/about
    setText("hero-title", siteData.heroTitle);
    setText("about-text", siteData.about);
  
    // contact
    setHTML("contact-links", siteData.contactHTML);
    setHTML("hero-contacts", siteData.contactHTML);
  
    // ---- preview cards ----
    const placeholder = "img/placeholder.jpg";
    const byId = (arr, id) => arr.find(x => x.id === id);
  
    function makePreviewCard(item, page, useDescKey = "desc") {
      const a = document.createElement("a");
      a.className = "preview-card";
      a.href = `${page}.html#${item.id}`;
      const img = item.img || placeholder;
      const desc = item[useDescKey] || "";
      a.innerHTML = `
        <div class="thumb"><img src="${img}" alt="${item.title}"></div>
        <h3>${item.title}</h3>
        <p class="muted">${desc}</p>
      `;
      return a;
    }
  
    // Projects (use 'desc')
    const ph = document.getElementById("projects-highlights");
    if (ph && siteData.highlights?.projects) {
      siteData.highlights.projects.forEach(id => {
        const p = byId(siteData.projects, id);
        if (p) ph.appendChild(makePreviewCard(p, "projects", "desc"));
      });
    }
  
    // Experience (use 'details')
    const eh = document.getElementById("experience-highlights");
    if (eh && siteData.highlights?.experience) {
      siteData.highlights.experience.forEach(id => {
        const e = byId(siteData.experience, id);
        if (e) eh.appendChild(makePreviewCard(e, "experience", "details"));
      });
    }
  
    // Extracurriculars (use 'details')
    const xh = document.getElementById("extracurriculars-highlights");
    if (xh && siteData.highlights?.extracurriculars) {
      siteData.highlights.extracurriculars.forEach(id => {
        const x = byId(siteData.extracurriculars, id);
        if (x) xh.appendChild(makePreviewCard(x, "extracurriculars", "details"));
      });
    }
  </script>
  
</body>
</html>
