<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Portfolio – Kaitlin Calimbahin</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Personal and academic projects" />
  <link rel="stylesheet" href="style.css" />
  <script src="data.js"></script>
</head>
<body>
  <header>
    <div class="brand">
      <div>
        <strong id="name"></strong><br>
        <span id="tagline"></span>
      </div>
    </div>
    <nav>
      <a href="index.html">Home</a>
      <a href="portfolio.html">Portfolio</a>
      <a href="extracurriculars.html">Extracurriculars</a>
      <a href="/#contact">Contact</a>
    </nav>
  </header>

  <main>
    <section>
      <h1>Portfolio</h1>
      <p class="about-in-hero">A selection of my personal and academic projects, plus experience.</p>
    </section>

    <section id="personal">
      <h2>Personal Projects</h2>
      <div id="personal-list" class="preview-grid"></div>
    </section>

    <section id="academic">
      <h2>Academic Projects</h2>
      <div id="academic-list" class="preview-grid"></div>
    </section>

    <section id="experience">
      <h2>Experience</h2>
      <div id="experience-list" class="preview-grid"></div>
    </section>
  </main>

  <footer>
    © <span id="year"></span> <span id="name-footer"></span>
  </footer>

  <script>
    const setText = (id, t) => { const el = document.getElementById(id); if (el) el.textContent = t; };
    setText("name", siteData.name);
    setText("tagline", siteData.tagline);
    setText("name-footer", siteData.name);
    document.getElementById("year").textContent = new Date().getFullYear();

    const placeholder = "img/placeholder.jpg";
    function makeCard(item, descKey = "desc"){
      const a = document.createElement("a");
      a.className = "preview-card";
      a.id = item.id; // anchor target for deep-links
      a.href = item.link || "#";
      const img = item.img || placeholder;
      const desc = item[descKey] || "";
      a.innerHTML = `
        <div class="thumb"><img src="${img}" alt="${item.title}"></div>
        <h3>${item.title}</h3>
        <p class="muted">${desc}</p>
      `;
      return a;
    }

    // Projects by category
    const personal = siteData.projects.filter(p => p.category === "personal");
    const academic = siteData.projects.filter(p => p.category === "academic");

    const pWrap = document.getElementById("personal-list");
    personal.forEach(p => pWrap.appendChild(makeCard(p, "desc")));

    const aWrap = document.getElementById("academic-list");
    academic.forEach(p => aWrap.appendChild(makeCard(p, "desc")));

    // Experience (uses 'details')
    const eWrap = document.getElementById("experience-list");
    siteData.experience.forEach(e => eWrap.appendChild(makeCard(e, "details")));
  </script>
</body>
</html>
